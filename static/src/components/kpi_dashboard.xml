<?xml version="1.0" encoding="UTF-8"?>
<templates xml:space="preserve">
    <t t-name="owl.KpiDashboard" owl="1">
        <section class="dashborad__section">
            <div class="dashboard__header">
                <div class="header__select">
                    <!-- header form -->
                    <section class="header__form">
                        <div class="form__group">
                            <label for="distributor">Distributor</label>
                            <select class="form-control"  t-model="state.distributorId">
                                <option value="">Select Distributor</option>
                                <t t-foreach="state.distributors" t-as="data" t-key="data.key">
                                    <option t-att-value="data.id">
                                        <t t-esc="data.name"/>
                                    </option>
                                </t>
                            </select>
                        </div>
                        <div class="form__group">
                            <label for="period">Time Period</label>
                            <select class="form-control" id="period" t-model="state.period" t-on-change="onChangePeriod">
                                <option value="">All Time</option>
                                <option value="today">Today</option>
                                <option value="this_month">This Month</option>
                                <option value="custom_date">Custom Date</option>
                            </select>
                        </div>
                        <div class="form__group" t-if="state.showDateRange">
                            <label for="start_date">Start Date</label>
                            <input class="form-control" type="date" id="start_date" t-model="state.periodStartAt" t-on-change="onChangeStartAt"/>
                        </div>
                        <div class="form__group" t-if="state.showDateRange">
                            <label for="end_date">End Date</label>
                            <input class="form-control" type="date" id="end_date" t-model="state.periodEndAt" t-on-change="onChangeEndAt"/>
                        </div>
                        <div class="form__group">
                            <label for="country">Country</label>
                            <select class="form-control"  t-model="state.country">
                                <option value="">Select Country</option>
                                <t t-foreach="state.countries" t-as="data" t-key="data.key">
                                    <option t-att-value="data.id">
                                        <t t-esc="data.name"/>
                                    </option>
                                </t>
                            </select>
                        </div>
                        <div class="form__group">
                            <label for="currency">Branch</label>
                            <select class="form-control"  t-model="state.branch">
                                <option value="">Select Branch</option>
                                <t t-foreach="state.branches" t-as="data" t-key="data.key">
                                    <option t-att-value="data.id">
                                        <t t-esc="data.name"/>
                                    </option>
                                </t>
                            </select>
                        </div>
                        <div class="form__group">
                            <label for="currency">Currency</label>
                            <select class="form-control"  t-model="state.currency">
                                <option value="">Select Currency</option>
                                <t t-foreach="state.currencies" t-as="data" t-key="data.key">
                                    <option t-att-value="data.id">
                                        <t t-esc="data.name"/>
                                    </option>
                                </t>
                            </select>
                        </div>
                        <div class="btn__group">
                            <button class="form__btn apply__btn" t-on-click="applyFilter">Apply</button>
                            <button class="form__btn reset__btn" type="reset" t-on-click="resetFilter">Reset</button>
                        </div>
                    </section>
                </div>
            </div>
            <div class="dashboard__content">
                <!-- item 1 -->
                <div class="dashboard__item">
                    <div class="dashboard__title">
                        <h2>Groth Mindset</h2>
                    </div>
                    <div class="dashboard__card">
                        <div class="card__header">WO Count</div>
                        <div class="card__group">
                            <KpiCard
                                    t-on-click="viewOpenMaintananceRequest"
                                    value="state.kpi.growthMindSet.woCount.open"
                                    title="'Open'"
                            />
                            <KpiCard
                                    t-on-click="viewInvoicedMaintananceRequest"
                                    value="state.kpi.growthMindSet.woCount.invoiced"
                                    title="'Invoiced'"
                            />
                        </div>
                    </div>
                    <KpiCard
                        value="state.kpi.growthMindSet.woCount.serviceOperatingSales"
                        title="'Service Operating Sales'"
                    />
                    <div class="dashboard__card">
                        <div class="card__header">WIP</div>
                        <div class="card__group">
                            <KpiCard
                                    t-on-click="viewWipWoCountMaintananceRequest"
                                    value="state.kpi.growthMindSet.wip.woCount"
                                    title="'Wo Count'"
                            />
                            <KpiCard
                                    t-on-click="viewWipCostMaintananceRequest"
                                    value="state.kpi.growthMindSet.wip.cost"
                                    title="'Cost'"
                            />
                            <KpiCard
                                    t-on-click="viewBillableMaintananceRequest"
                                    value="state.kpi.growthMindSet.wip.billableAmount"
                                    title="'Billable Amount'"
                            />
                        </div>
                    </div>
                </div>
                <!-- item 3 -->
                <div class="dashboard__item">
                    <div class="dashboard__title">
                        <h2>Operational Efficiencies</h2>
                    </div>
                    <KpiCard
                            value="state.kpi.operationalEfficiencies.tb"
                            title="'TB %'"
                            isParcent='true'
                    />
                    <KpiCard
                            value="state.kpi.operationalEfficiencies.productivity"
                            title="'Productivity'"
                            isParcent='true'
                    />
                    <KpiCard
                            value="state.kpi.operationalEfficiencies.labourUtilization"
                            title="'Labour Utilization'"
                            isParcent='true'
                    />
                    <KpiCard
                            value="state.kpi.operationalEfficiencies.billingEfficiency"
                            title="'Billing Efficiency'"
                            isParcent='true'
                    />
                </div>
            </div>
        </section>
        <div style="margin-bottom:25px;"></div>
    </t>
</templates>