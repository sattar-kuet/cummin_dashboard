<?xml version="1.0" encoding="UTF-8"?>
<templates xml:space="preserve">
    <t t-name="owl.KpiDashboard" owl="1">
        <section class="dashborad__section">
            <div class="dashboard__header">
                <div class="header__select">
                    <!-- header form -->
                    <section class="header__form">
                        <div class="form__group">
                            <img style="width: 220px;" src="/cummin_dashboard/static/src/image/logo.png"/>
                        </div>
                        <div class="form__group" t-if="state.session.admin">
                            <label for="distributor">Distributor</label>
                            <select class="form-control"  t-model="state.distributorId">
                                <option value="">Select Distributor</option>
                                <t t-foreach="state.distributors" t-as="data" t-key="data.key">
                                    <option t-att-value="data.id">
                                        <t t-esc="data.name"/>
                                    </option>
                                </t>
                            </select>
                        </div>
                        <div class="form__group" t-if="state.session.distributor">
                            <label for="distributor">Distributor</label>
                            <p style="text-align: center;border: 1px solid #d7d1d1; padding:3px;">
                                <t t-esc="state.session.company_names[0]"/>
                            </p>
                        </div>
                        <div class="form__group">
                            <label for="period">Time Period</label>
                            <select class="form-control" id="period" t-model="state.period" t-on-change="onChangePeriod">
                                <option value="">All Time</option>
                                <option value="today">Today</option>
                                <option value="this_month">This Month</option>
                                <option value="prev_month">Previous Month</option>
                                <option value="custom_date">Custom Date</option>
                            </select>
                        </div>
                        <div class="form__group" t-if="state.showDateRange">
                            <label for="start_date">Start Date</label>
                            <input class="form-control" type="date" id="start_date" t-model="state.periodStartAt" t-on-change="onChangeStartAt"/>
                        </div>
                        <div class="form__group" t-if="state.showDateRange">
                            <label for="end_date">End Date</label>
                            <input class="form-control" type="date" id="end_date" t-model="state.periodEndAt" t-on-change="onChangeEndAt"/>
                        </div>
                        <div class="form__group">
                            <label for="country">Country</label>
                            <select class="form-control"  t-model="state.country">
                                <option value="">Select Country</option>
                                <t t-foreach="state.countries" t-as="data" t-key="data.key">
                                    <option t-att-value="data.id">
                                        <t t-esc="data.name"/>
                                    </option>
                                </t>
                            </select>
                        </div>
                        <div class="form__group">
                            <label for="currency">Branch</label>
                            <select class="form-control"  t-model="state.branch">
                                <option value="">Select Branch</option>
                                <t t-foreach="state.branches" t-as="data" t-key="data.key">
                                    <option t-att-value="data.id">
                                        <t t-esc="data.name"/>
                                    </option>
                                </t>
                            </select>
                        </div>
                        <div class="form__group">
                            <label for="currency">Currency</label>
                            <select class="form-control"  t-model="state.currency">
                                <option value="">Select Currency</option>
                                <t t-foreach="state.currencies" t-as="data" t-key="data.key">
                                    <option t-att-value="data.id">
                                        <t t-esc="data.name"/>
                                    </option>
                                </t>
                            </select>
                        </div>
                        <div class="btn__group">
                            <button class="form__btn apply__btn" t-on-click="applyFilter">Apply</button>
                            <button class="form__btn reset__btn" type="reset" t-on-click="resetFilter">Reset</button>
                        </div>
                    </section>
                </div>
            </div>
            <div class="dashboard__content">
                <div class="dashboard__item">
                    <div class="dashboard__title">
                        <h2>Growth Mindset</h2>
                    </div>
                    <div class="dashboard__tables">
                        <table>
                            <thead>
                                <tr>
                                    <th></th>
                                    <th>Open</th>
                                    <th>Invoiced</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>WO Count</td>
                                    <td t-on-click="viewOWaging" style="cursor: pointer;">
                                        <t t-esc="state.kpi.growthMindSet.woCount.open"/>
                                    </td>
                                    <td t-on-click="viewInvoicedMaintananceRequest" style="cursor: pointer;">
                                        <t t-esc="state.kpi.growthMindSet.woCount.invoiced"/>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                        <table>
                            <thead>
                                <tr>
                                    <th></th>
                                    <th></th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Service Operating Sales</td>
                                    <td>
                                        <t t-esc="state.kpi.growthMindSet.woCount.serviceOperatingSales" />
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                        <table>
                            <thead>
                                <tr>
                                    <th></th>
                                    <th>WO Conunt</th>
                                    <th>Cost</th>
                                    <th>Billable Amount</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>WO Count</td>
                                    <td t-on-click="viewWipWoCountMaintananceRequest" style="cursor: pointer;">
                                        <t t-esc="state.kpi.growthMindSet.wip.woCount"/>
                                    </td>
                                    <td t-on-click="viewWipCostMaintananceRequest" style="cursor: pointer;">
                                        <t t-esc="state.kpi.growthMindSet.wip.cost"/>
                                    </td>
                                    <td t-on-click="viewBillableMaintananceRequest" style="cursor: pointer;">
                                        <t t-esc="state.kpi.growthMindSet.wip.billableAmount"/>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                <div class="dashboard__item">
                    <div class="dashboard__title">
                        <h2>Operational Efficiencies</h2>
                    </div>
                    <div class="dashboard__tables">
                        <table>
                            <thead>
                                <tr>
                                    <th></th>
                                    <th></th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td colspan="2">TB %</td>
                                    <td colspan="2" t-on-click="viewTBdetail" style="cursor: pointer;">
                                        <t t-esc="state.kpi.operationalEfficiencies.tb"/>
                                    </td>
                                </tr>
                                <tr t-if="state.showTbDetail">
                                    <td style="color: #495057; background-color: transparent;">Total Hours</td>
                                    <td>
                                        <t t-esc="state.kpi.operationalEfficiencies.tbDetail.totalHours"/>
                                    </td>
                                    <td>Billed Hours</td>
                                    <td>
                                        <t t-esc="state.kpi.operationalEfficiencies.tbDetail.billedHours"/>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                        <table>
                            <thead>
                                <tr>
                                    <th></th>
                                    <th></th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Productivity</td>
                                    <td t-on-click="viewProductivityDetail" style="cursor: pointer;">0.0%</td>
                                </tr>
                            </tbody>
                        </table>
                        <table>
                            <thead>
                                <tr>
                                    <th></th>
                                    <th></th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Labour Utilization</td>
                                    <td t-on-click="viewLabourUtilizationDetail" style="cursor: pointer;">0.0%</td>
                                </tr>
                            </tbody>
                        </table>
                        <table>
                            <thead>
                                <tr>
                                    <th></th>
                                    <th></th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Billing Efficiency</td>
                                    <td t-on-click="viewBillingEffeciencyDetail" style="cursor: pointer;">0.0%</td>
                                </tr>
                            </tbody>
                        </table>
                        <table>
                            <thead>
                                <tr>
                                    <th></th>
                                    <th></th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>PIP</td>
                                    <td  style="cursor: pointer;">0.0%</td>
                                </tr>
                            </tbody>
                        </table>
                        <!-- <table>
                            <thead>
                                <tr>
                                    <th></th>
                                    <th>Medium PIP Hours</th>
                                    <th>Average PIP Hours</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>PIP</td>
                                    <td style="cursor: pointer;">0.0%</td>
                                    <td style="cursor: pointer;">0.0%</td>
                                </tr>
                            </tbody>
                        </table> -->
                        <!-- <table>
                            <thead>
                                <tr>
                                    <th></th>
                                    <th></th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Warranty Recovery</td>
                                    <td style="cursor: pointer;">0.0%</td>
                                </tr>
                            </tbody>
                        </table> -->
                        <!-- <table>
                            <thead>
                                <tr>
                                    <th></th>
                                    <th></th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Service Operating Prime Margin</td>
                                    <td style="cursor: pointer;">0.0%</td>
                                </tr>
                            </tbody>
                        </table> -->
                    </div>
                </div>
                <!-- item 3 -->
                <!-- <div class="dashboard__item">
                    <div class="dashboard__title">
                        <h2>Operational Efficiencies</h2>
                    </div>
                    <KpiCard
                            value="state.kpi.operationalEfficiencies.tb"
                            t-on-click="viewTBdetail"
                            title="'TB %'"
                            isParcent='true'
                    />
                    <KpiCard
                            value="state.kpi.operationalEfficiencies.productivity"
                            t-on-click="viewProductivityDetail"
                            title="'Productivity'"
                            isParcent='true'
                    />
                    <KpiCard
                            value="state.kpi.operationalEfficiencies.labourUtilization"
                            t-on-click="viewLabourUtilizationDetail"
                            title="'Labour Utilization'"
                            isParcent='true'
                    />
                    <KpiCard
                            value="state.kpi.operationalEfficiencies.billingEfficiency"
                            t-on-click="viewBillingEffeciencyDetail"
                            title="'Billing Efficiency'"
                            isParcent='true'
                    />
                </div> -->
            </div>
        </section>
        <div style="margin-bottom:25px;"></div>
    </t>
</templates>